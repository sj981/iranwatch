<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>IRAN WATCH</title>
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,400;0,9..40,500;0,9..40,600;0,9..40,700;1,9..40,400&family=JetBrains+Mono:wght@400;500;600;700&family=Newsreader:ital,opsz,wght@0,6..72,400;0,6..72,500;1,6..72,400&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{--bg:#080a0f;--bg2:#0c0f16;--bg3:#111520;--bg4:#171c28;--border:#1a2035;--border2:#242d45;--text:#e2e8f0;--text2:#94a3b8;--text3:#64748b;--text4:#475569;--red:#ef4444;--amber:#f59e0b;--green:#22c55e;--blue:#3b82f6;--cyan:#06b6d4;--red-bg:rgba(239,68,68,.08);--amber-bg:rgba(245,158,11,.08);--green-bg:rgba(34,197,94,.08);--blue-bg:rgba(59,130,246,.08)}
body{background:var(--bg);color:var(--text);font-family:'DM Sans',system-ui,sans-serif;font-size:15px;line-height:1.65;-webkit-font-smoothing:antialiased}
a{color:var(--cyan);text-decoration:none}a:hover{text-decoration:underline}
.hdr{border-bottom:1px solid var(--border);background:var(--bg2);position:sticky;top:0;z-index:100;backdrop-filter:blur(16px)}
.hdr-inner{max-width:1080px;margin:0 auto;padding:16px 24px;display:flex;align-items:center;justify-content:space-between;gap:16px;flex-wrap:wrap}
.brand{display:flex;align-items:center;gap:12px}
.pulse{width:10px;height:10px;border-radius:50%;background:var(--red);box-shadow:0 0 12px var(--red);animation:p 2s ease-in-out infinite}
@keyframes p{0%,100%{opacity:1;box-shadow:0 0 12px var(--red)}50%{opacity:.6;box-shadow:0 0 24px var(--red)}}
.brand-text{font-family:'JetBrains Mono',monospace;font-weight:700;font-size:16px;letter-spacing:5px;text-transform:uppercase}
.hdr-right{font-family:'JetBrains Mono',monospace;font-size:11px;color:var(--text3);text-align:right;line-height:1.7}
.hdr-right strong{color:var(--text2);font-weight:600}
.main{max-width:1080px;margin:0 auto;padding:24px 24px 80px}
.threat{border-radius:8px;padding:24px;margin-bottom:32px;display:flex;gap:20px;align-items:flex-start}
.threat.high{background:linear-gradient(135deg,rgba(245,158,11,.1),rgba(245,158,11,.02));border:1px solid rgba(245,158,11,.2)}
.threat.critical{background:linear-gradient(135deg,rgba(239,68,68,.12),rgba(239,68,68,.02));border:1px solid rgba(239,68,68,.25)}
.threat.elevated{background:linear-gradient(135deg,rgba(59,130,246,.1),rgba(59,130,246,.02));border:1px solid rgba(59,130,246,.2)}
.threat.routine{background:var(--bg3);border:1px solid var(--border)}
.tl-badge{font-family:'JetBrains Mono',monospace;font-weight:700;font-size:12px;letter-spacing:2px;padding:8px 16px;border-radius:6px;white-space:nowrap;flex-shrink:0}
.tl-badge.high{background:var(--amber);color:#000}.tl-badge.critical{background:var(--red);color:#fff}
.tl-badge.elevated{background:var(--blue);color:#fff}.tl-badge.routine{background:var(--green);color:#000}
.threat-body{flex:1;min-width:0}
.threat-body p{font-size:15px;line-height:1.65}
.threat-body .scale{font-family:'JetBrains Mono',monospace;font-size:10px;color:var(--text4);margin-top:12px;letter-spacing:.5px;line-height:2}
.threat-body .scale span{padding:2px 8px;border-radius:3px;margin-right:2px}
.sec{font-family:'JetBrains Mono',monospace;font-size:11px;font-weight:600;letter-spacing:3px;text-transform:uppercase;color:var(--text4);margin:36px 0 16px;padding-bottom:10px;border-bottom:1px solid var(--border);display:flex;align-items:center;justify-content:space-between}
.tag{font-size:10px;padding:3px 10px;border-radius:4px;letter-spacing:1px;font-weight:600;font-family:'JetBrains Mono',monospace}
.tag-live{background:var(--red-bg);color:var(--red);border:1px solid rgba(239,68,68,.2)}
.tag-ok{background:var(--green-bg);color:var(--green);border:1px solid rgba(34,197,94,.2)}
.card{background:var(--bg3);border:1px solid var(--border);border-radius:8px;overflow:hidden;margin-bottom:20px}
.card-hdr{padding:16px 20px;border-bottom:1px solid var(--border);display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap}
.card-title{font-family:'JetBrains Mono',monospace;font-size:11px;font-weight:600;letter-spacing:2px;text-transform:uppercase;color:var(--text2)}
.card-body{padding:20px}
.grid2{display:grid;grid-template-columns:1fr 1fr;gap:20px}.span2{grid-column:1/-1}
.judgment{font-family:'Newsreader',Georgia,serif;font-size:16px;line-height:1.8;padding:24px;background:var(--bg3);border:1px solid var(--border);border-left:3px solid var(--blue);border-radius:0 8px 8px 0;margin-bottom:20px}
.judgment em{color:var(--amber);font-style:italic}
.overnight{font-size:15px;line-height:1.7;color:var(--text2);padding:20px;background:var(--bg3);border:1px solid var(--border);border-radius:8px;margin-bottom:20px}
.ag{display:flex;gap:14px;padding:14px 0;border-bottom:1px solid rgba(26,32,53,.5)}.ag:last-child{border-bottom:none}
.ag-dot{width:8px;height:8px;border-radius:50%;margin-top:6px;flex-shrink:0}
.ag-dot.critical{background:var(--red);box-shadow:0 0 8px rgba(239,68,68,.4)}.ag-dot.notable{background:var(--amber)}.ag-dot.routine{background:var(--blue)}
.ag-t{font-family:'JetBrains Mono',monospace;font-size:12px;font-weight:600;letter-spacing:1px;text-transform:uppercase;margin-bottom:4px}
.ag-b{font-size:14px;color:var(--text2);line-height:1.6}
.mkt{display:flex;align-items:center;justify-content:space-between;padding:14px 0;border-bottom:1px solid rgba(26,32,53,.5);gap:16px}.mkt:last-child{border-bottom:none}
.mkt-info{flex:1;min-width:0}.mkt-q{font-size:14px;color:var(--text);display:block;margin-bottom:2px}
.mkt-meta{font-family:'JetBrains Mono',monospace;font-size:10px;color:var(--text4)}
.mkt-right{text-align:right;flex-shrink:0}
.mkt-prob{font-family:'JetBrains Mono',monospace;font-weight:700;font-size:22px}
.delta{font-family:'JetBrains Mono',monospace;font-size:10px;display:block;margin-top:2px}
.cat-badge{font-family:'JetBrains Mono',monospace;font-size:9px;font-weight:600;letter-spacing:1px;padding:2px 7px;border-radius:3px;margin-right:6px;background:color-mix(in srgb,var(--c) 12%,transparent);color:var(--c);display:inline-block;margin-bottom:4px}
.ac-wrap{max-height:400px;overflow-y:auto;padding:0}
.ac-table{width:100%;border-collapse:collapse;font-size:13px}
.ac-table th{font-family:'JetBrains Mono',monospace;font-size:10px;font-weight:600;letter-spacing:1.5px;text-transform:uppercase;color:var(--text4);text-align:left;padding:8px 10px;border-bottom:1px solid var(--border);position:sticky;top:0;background:var(--bg3);z-index:1}
.ac-table td{padding:8px 10px;border-bottom:1px solid rgba(26,32,53,.4);color:var(--text2)}
.ac-table tr.new td{color:var(--text)}.ac-label{font-family:'JetBrains Mono',monospace;font-weight:600;font-size:12px;color:var(--cyan)}
.ac-role{font-size:12px;color:var(--text3)}.ac-alt{font-family:'JetBrains Mono',monospace;font-size:12px;text-align:right}
.baseline-alert{font-family:'JetBrains Mono',monospace;font-size:12px;padding:4px 12px;border-radius:4px;display:inline-block}
.baseline-alert.high{background:var(--red-bg);color:var(--red)}.baseline-alert.moderate{background:var(--amber-bg);color:var(--amber)}
.baseline-normal{font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--text3)}
.centcom-item{padding:10px 0;border-bottom:1px solid rgba(26,32,53,.4);font-size:13px;color:var(--text2)}.centcom-item:last-child{border-bottom:none}
.feeds{display:flex;flex-wrap:wrap;gap:12px;padding:16px 0}
.feed{font-family:'JetBrains Mono',monospace;font-size:10px;color:var(--text4);display:flex;align-items:center;gap:6px}
.fd{width:6px;height:6px;border-radius:50%}.fd.ok{background:var(--green)}.fd.err{background:var(--red)}
.foot{border-top:1px solid var(--border);padding:20px 0;margin-top:40px;font-family:'JetBrains Mono',monospace;font-size:10px;color:var(--text4);text-align:center;line-height:2}
.map-wrap{position:relative;width:100%;height:420px;background:var(--bg);border-radius:0;overflow:hidden}
.map-wrap canvas{width:100%;height:100%}
#tooltip{position:absolute;background:var(--bg4);border:1px solid var(--border2);border-radius:6px;padding:12px 16px;font-family:'JetBrains Mono',monospace;font-size:11px;pointer-events:none;opacity:0;transition:opacity .15s;z-index:10;max-width:240px;box-shadow:0 8px 32px rgba(0,0,0,.5)}
.map-note{font-size:11px;color:var(--text4);padding:8px 12px;text-align:center}
@media(max-width:768px){.grid2{grid-template-columns:1fr}.hdr-inner{padding:12px 16px}.main{padding:16px 16px 80px}.threat{flex-direction:column;gap:12px}.brand-text{font-size:14px;letter-spacing:3px}.mkt{flex-direction:column;align-items:flex-start;gap:8px}.mkt-right{text-align:left;display:flex;align-items:center;gap:12px}.mkt-prob{font-size:18px}.map-wrap{height:280px}.ac-table{font-size:12px}.judgment{font-size:15px;padding:16px}.sec{font-size:10px}}
@media(max-width:480px){.brand-text{font-size:12px;letter-spacing:2px}.map-wrap{height:220px}}
::-webkit-scrollbar{width:6px}::-webkit-scrollbar-track{background:var(--bg)}::-webkit-scrollbar-thumb{background:var(--border2);border-radius:3px}
.how-btn{font-family:'JetBrains Mono',monospace;font-size:10px;letter-spacing:1.5px;text-transform:uppercase;color:var(--text3);background:var(--bg4);border:1px solid var(--border);border-radius:5px;padding:6px 12px;cursor:pointer;transition:all .2s;white-space:nowrap}
.how-btn:hover{color:var(--cyan);border-color:var(--cyan);background:rgba(6,182,212,.06)}
.modal-bg{position:fixed;inset:0;background:rgba(0,0,0,.7);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:1000;opacity:0;pointer-events:none;transition:opacity .2s}
.modal-bg.open{opacity:1;pointer-events:all}
.modal{background:var(--bg3);border:1px solid var(--border);border-radius:10px;max-width:560px;width:92%;max-height:85vh;overflow-y:auto;transform:translateY(10px);transition:transform .2s}
.modal-bg.open .modal{transform:translateY(0)}
.modal-top{display:flex;align-items:center;justify-content:space-between;padding:18px 24px;border-bottom:1px solid var(--border)}
.modal-t{font-family:'JetBrains Mono',monospace;font-size:12px;font-weight:600;letter-spacing:2px;text-transform:uppercase;color:var(--cyan)}
.modal-x{background:none;border:none;color:var(--text3);cursor:pointer;font-size:18px;padding:4px 8px;border-radius:3px}.modal-x:hover{color:var(--text);background:var(--bg4)}
.modal-body{padding:20px 24px 24px}.modal-body p{font-size:13.5px;line-height:1.7;color:var(--text2);margin-bottom:14px}.modal-body p:last-child{margin-bottom:0}
.modal-body strong{color:var(--text)}
.src-grid{display:grid;grid-template-columns:1fr 1fr;gap:8px;margin:14px 0}
.src-item{background:var(--bg4);border-radius:5px;padding:8px 12px;font-family:'JetBrains Mono',monospace;font-size:11px}
.src-item .src-name{color:var(--cyan);font-weight:600}.src-item .src-desc{color:var(--text4);font-size:10px;margin-top:2px}
</style></head><body>
<div class="hdr"><div class="hdr-inner"><div class="brand"><div class="pulse"></div><div class="brand-text">Iran Watch</div></div><div style="display:flex;align-items:center;gap:14px"><button class="how-btn" onclick="document.getElementById('howModal').classList.add('open')">How it works</button><div class="hdr-right"><strong>09 February 2026</strong>Updated 17:39 UTC &middot; 6-hour cycle</div></div></div></div>
<div class="modal-bg" id="howModal" onclick="if(event.target===this)this.classList.remove('open')"><div class="modal"><div class="modal-top"><div class="modal-t">How Iran Watch Works</div><button class="modal-x" onclick="document.getElementById('howModal').classList.remove('open')">&times;</button></div><div class="modal-body"><p><strong>Iran Watch</strong> is an automated open-source intelligence (OSINT) monitor that tracks US military posture toward Iran. It updates every 6 hours via GitHub Actions.</p><p>A Python script queries 7 free data sources, then sends the collected data to Claude (Anthropic's AI) for IC-style analysis with confidence levels and threat assessments.</p><div class="src-grid"><div class="src-item"><div class="src-name">airplanes.live</div><div class="src-desc">Military aircraft via ADS-B</div></div><div class="src-item"><div class="src-name">Polymarket</div><div class="src-desc">Prediction market prices</div></div><div class="src-item"><div class="src-name">Kalshi</div><div class="src-desc">Regulated prediction markets</div></div><div class="src-item"><div class="src-name">Metaculus</div><div class="src-desc">Community forecasting</div></div><div class="src-item"><div class="src-name">USNI News</div><div class="src-desc">Carrier strike group tracker</div></div><div class="src-item"><div class="src-name">CENTCOM</div><div class="src-desc">Press releases &amp; statements</div></div><div class="src-item"><div class="src-name">Claude Search</div><div class="src-desc">Diplomatic context via web</div></div><div class="src-item"><div class="src-name">History</div><div class="src-desc">7-day rolling baseline</div></div></div><p>The analytical framework draws on Cynthia Grabo's <em style="color:var(--amber)">Anticipating Surprise</em> (DIA, 2002). Aircraft detection is partial — most military flights disable transponders. Prediction markets are shown with 24-hour and 7-day probability changes.</p><p style="color:var(--text4);font-size:12px">Built with Python, Claude Haiku 4.5, and GitHub Pages. Total cost ~$4-8/month.</p></div></div></div>
<div class="main">
<div class="threat elevated"><div class="tl-badge elevated">ELEVATED</div><div class="threat-body"><p>Military posture remains elevated following inconclusive Oman talks (Feb 6) with continued naval buildup by both sides. Current ADS-B picture shows routine European airlift operations (C-17, C-5M, KC-135 tankers) and allied training flights—no Iran-specific I&W triggers detected. Prediction markets show modest consensus risk: 55–56% probability of US strike or ceasefire breach by mid-2026, stable from baseline. Diplomatic deadlock persists (Iran restricts agenda to nuclear only; US demands broader scope), reducing near-term de-escalation likelihood.</p><div class="scale"><span style="background:rgba(34,197,94,.15);color:var(--green)">ROUTINE</span> <span style="background:rgba(59,130,246,.15);color:var(--blue)">ELEVATED</span> <span style="background:rgba(245,158,11,.15);color:var(--amber)">HIGH</span> <span style="background:rgba(239,68,68,.15);color:var(--red)">CRITICAL</span></div></div></div>
<div class="judgment">CONFIDENCE: HIGH. The military environment is elevated but not emergent. While the Trump administration has staged a substantial armada (carrier Abraham Lincoln, escort destroyers, F-15E fighters in Jordan), current aircraft movements are consistent with routine logistics and training rather than strike preparation. The absence of tanker surge signatures, bomber repositioning, or ISR orbit intensification suggests no imminent offensive operation. However, escalation risk remains real: Iranian provocations (Feb 3–5 drone/gunboat incidents, missile deployment) and US military presence create flashpoint conditions. Prediction market consensus (55–56%) reflects analysts' view that conflict is more likely than not by April–June 2026, but markets have not spiked, implying no immediate trigger expected. CENTCOM presence at talks (Admiral Cooper) signals willingness to negotiate, but deep disagreement on scope (nuclear-only vs. comprehensive) limits diplomatic momentum. Next 72 hours are critical: any Iranian drone activity or tanker seizure near US naval assets risks unintended escalation.</div>
<div class="sec"><span>Latest Update</span></div>
<div class="overnight">No significant change in threat posture since last cycle. Aircraft picture dominated by US and allied airlift: two C-17 Globemaster transports and one C-5M Galaxy returning from operations over Germany/Italy; three KC-135 Stratotanker refuelers in European airspace (routine support posture). Allied training activity includes French TBM7 turboprops, Austrian PC-21 trainers, and a Spanish A400M Atlas transport—all consistent with baseline. One Greek Gulfstream VIP transport detected over Persian Gulf (new sighting) at 43,000 ft; likely diplomatic or routine military VIP movement, not escalatory. No fighter packages, SEAD/DEAD elements, or ISR surges observed.</div>
<div class="sec"><span>Activity Feed</span></div>
<div class="card"><div class="card-body"><div class="ag"><div class="ag-dot routine"></div><div><div class="ag-t">US Strategic Airlift & Tanker Operations (Europe)</div><div class="ag-b">Three strategic airlifters detected returning from Mediterranean/European bases: C-17 from Aviano AB (Italy), C-5M Galaxy in transit near Aviano, plus C-130 Hercules over North Atlantic. Three KC-135 Stratotanker refuelers distributed across European airspace (Ramstein AB vicinity, North Atlantic) in returning status. This pattern is consistent with routine force rotation and logistics for existing European deployments, not Iran-specific surge. 7-day average count (87.7 aircraft) vs. current 48 military aircraft in region suggests normal operational tempo. SOURCE: airplanes.live ADS-B.</div></div></div><div class="ag"><div class="ag-dot routine"></div><div><div class="ag-t">Allied Training & Transport Activity (Routine)</div><div class="ag-b">Multiple allied military transports and trainers active: French TBM7 turboprops (2 aircraft) and Dash-8 variants in French/Atlantic airspace; Austrian PC-21 turboprops (4 aircraft) over Germany in low-altitude training pattern; Spanish A400M Atlas over Italy. RAF Voyager tanker (KC-3) over North Atlantic. This activity is baseline European military routine, unrelated to Iran contingency. SOURCE: airplanes.live ADS-B.</div></div></div><div class="ag"><div class="ag-dot notable"></div><div><div class="ag-t">Unidentified VIP Transport Over Persian Gulf (Minor Anomaly)</div><div class="ag-b">One Gulfstream GLF5 (Greek registration 678) detected at 43,000 ft over Persian Gulf (lat 25.52°N, lon 53.81°E) at high speed (396 knots). Aircraft is new sighting with no declared origin/destination. Most likely explanation: routine diplomatic or military VIP transit (CENTCOM-related given ongoing Oman talks), not Iranian asset. However, recommend tracking on next cycle for confirmation of routing and intent. SOURCE: airplanes.live ADS-B (new sighting flagged).</div></div></div><div class="ag"><div class="ag-dot routine"></div><div><div class="ag-t">No Iran-Specific I&W Signatures Detected</div><div class="ag-b">Absence of: (1) tanker surge above 7-day baseline; (2) Iranian military aircraft or ISR orbit changes; (3) US bomber repositioning or SEAD/DEAD package assembly; (4) unusual carrier strike group movements. This suggests no imminent strike preparation despite high diplomatic tension. Aligns with diplomatic track ongoing in Oman (though talks inconclusive). SOURCE: airplanes.live ADS-B, USNI Fleet Tracker (partial).</div></div></div></div></div>
<div class="grid2">
<div class="span2"><div class="sec"><span>Forecasting Panel</span><span class="tag tag-live">Live</span></div><div class="card"><div class="card-body"><div style="font-size:14px;color:var(--text2);margin-bottom:16px;line-height:1.6">Prediction market probabilities remain STABLE with no significant movement: US strike before April 2026 at 55% (Metaculus); Israel–Iran ceasefire breach by June 30 at 56% (Polymarket, volume $147.6K). Markets have NOT RISEN or FALLEN materially, indicating forecasters view escalation as chronic but not imminent. No spike in trading volume suggesting surprise risk reassessment. Consensus favors conflict by mid-2026 at >50% probability, but lack of volatility suggests market participants expect continued brinkmanship rather than near-term trigger. SOURCE: Polymarket, Metaculus.</div><div class="mkt">
          <div class="mkt-info"><span class="cat-badge" style="--c:#06b6d4">DIPLOMATIC</span><a href="https://polymarket.com/event/israel-x-iran-ceasefire-broken-by" target="_blank" class="mkt-q">Israel x Iran ceasefire broken by June 30, 2026?</a><div class="mkt-meta">Polymarket · Vol: $148K</div></div>
          <div class="mkt-right"><div class="mkt-prob" style="color:#f59e0b">56%</div></div></div><div class="mkt">
          <div class="mkt-info"><a href="https://www.metaculus.com/questions/41594/" target="_blank" class="mkt-q">Will the United States attack Iran before April 2026?</a><div class="mkt-meta">Metaculus · 192 forecasters</div></div>
          <div class="mkt-right"><div class="mkt-prob" style="color:#f59e0b">55%</div></div></div></div></div></div>
<div><div class="sec"><span>Naval Forces</span></div><div class="card"><div class="card-body"><div style="font-size:14px;color:var(--text2);line-height:1.7">USNI Fleet Tracker returned partial status; no carrier strike group positions available for this cycle. However, diplomatic context confirms USS Abraham Lincoln carrier strike group deployed to region with escorts (USS McFaul, USS Mitscher in Strait of Hormuz; USS Delbert D. Black in Red Sea; USS Roosevelt, USS Bulkeley in Mediterranean). This represents sustained high-end naval presence ordered by Trump administration. No rapid repositioning or surge detected from previous cycles, suggesting maintained posture rather than imminent offensive operation.</div><div style="font-family:'JetBrains Mono',monospace;font-size:10px;color:var(--text4);margin-top:12px">USNI Fleet Tracker &middot; </div></div></div></div>
<div><div class="sec"><span>Diplomatic Context</span></div><div class="card"><div class="card-body"><div style="font-size:14px;color:var(--text2);line-height:1.7">**Oman Talks Inconclusive (Feb 6):** US and Iran delegations held indirect negotiations brokered by Oman; both sides agreed to continue talks after capital consultations. CENTCOM Admiral Brad Cooper attended in dress uniform, signaling US military readiness. No breakthrough on scope: Iran insists talks remain nuclear-only; US demands broader agenda (ballistic missiles, proxies, human rights). Deadlock reduces near-term de-escalation probability.<br>**Escalatory Incidents Preceding Talks (Feb 3–5):** IRGC Navy gunboats attempted to seize US tanker Stena Imperative in Strait of Hormuz (foiled by USS McFaul escort); US F-35 shot down Iranian Shahed-139 drone near Abraham Lincoln; Iran deployed Khorramshahr-4 long-range missile to underground facility, signaling shift to offensive doctrine; IRGC Navy seized two foreign tankers near Farsi Island claiming fuel smuggling. Pattern shows sustained Iranian pressure despite diplomatic track.<br>**Analyst Assessment:** One regional analyst projects 75% probability of US–Iran military hostilities in coming days/weeks, higher than prediction market consensus (55%), suggesting some asymmetry in expert vs. crowd assessment. Risk window centers on Strait of Hormuz incidents, where tactical friction (tanker seizures, drone intercepts) could trigger unintended escalation.</div></div></div></div>
</div>
<div class="sec"><span>Aircraft Detection</span><span class="tag tag-live">48 aircraft</span></div>
<div class="card">
<div class="card-hdr"><div class="card-title">Military Aircraft &mdash; ADS-B</div><div><span class="baseline-normal">48 aircraft (7-day avg: 87.7)</span></div></div>
<div class="map-wrap" id="mapWrap"><canvas id="mapCanvas"></canvas><div id="tooltip"></div></div>
<div class="map-note">Bright = new &middot; Dim = still present &middot; Most military flights fly dark</div>
<div class="ac-wrap"><table class="ac-table"><thead><tr><th>Callsign</th><th>Type</th><th>Role</th><th>Location</th><th style="text-align:right">Alt</th></tr></thead><tbody><tr class="new"><td class="ac-label">HAF352E</td><td>GLF5</td><td class="ac-role">Military</td><td>over the Persian Gulf</td><td class="ac-alt">43,000 ft</td></tr><tr class=""><td class="ac-label">BRK50</td><td>C-17A Globemaster III</td><td class="ac-role">Strategic airlift</td><td>over Germany</td><td class="ac-alt">32,000 ft</td></tr><tr class=""><td class="ac-label">RCH657</td><td>C-17A Globemaster III</td><td class="ac-role">Strategic airlift</td><td>~356 mi from Aviano AB, Italy</td><td class="ac-alt">31,000 ft</td></tr><tr class="new"><td class="ac-label">RCH1801</td><td>C-5M Super Galaxy</td><td class="ac-role">Heavy strategic airlift</td><td>~384 mi from Aviano AB, Italy</td><td class="ac-alt">31,000 ft</td></tr><tr class=""><td class="ac-label">59-1464</td><td>KC-135R Stratotanker</td><td class="ac-role">Aerial refueling</td><td>~195 mi from Ramstein AB, Germany</td><td class="ac-alt">30,000 ft</td></tr><tr class="new"><td class="ac-label">VM207</td><td>MC-12W / King Air</td><td class="ac-role">ISR / light transport</td><td>over the North Atlantic</td><td class="ac-alt">29,000 ft</td></tr><tr class=""><td class="ac-label">60-0333</td><td>KC-135R Stratotanker</td><td class="ac-role">Aerial refueling</td><td>over the North Atlantic</td><td class="ac-alt">28,000 ft</td></tr><tr class=""><td class="ac-label">FMY8046</td><td>TBM7</td><td class="ac-role">Military</td><td>over Germany</td><td class="ac-alt">26,225 ft</td></tr><tr class="new"><td class="ac-label">CTM3914</td><td>TBM7</td><td class="ac-role">Military</td><td>over France</td><td class="ac-alt">26,000 ft</td></tr><tr class="new"><td class="ac-label">AME3104</td><td>A400M Atlas</td><td class="ac-role">Tactical/strategic airlift</td><td>over Italy</td><td class="ac-alt">25,975 ft</td></tr><tr class=""><td class="ac-label">RRR7209</td><td>Voyager KC3 / A330 MRTT</td><td class="ac-role">RAF aerial refueling</td><td>over the North Atlantic</td><td class="ac-alt">25,175 ft</td></tr><tr class=""><td class="ac-label">CNV6510</td><td>C-130 Hercules</td><td class="ac-role">Tactical airlift</td><td>over the North Atlantic</td><td class="ac-alt">25,050 ft</td></tr><tr class="new"><td class="ac-label">HK4862</td><td>AT45</td><td class="ac-role">Military</td><td>over the North Atlantic</td><td class="ac-alt">25,000 ft</td></tr><tr class="new"><td class="ac-label">MILAN7C</td><td>DH8D</td><td class="ac-role">Military</td><td>over the North Atlantic</td><td class="ac-alt">24,000 ft</td></tr><tr class="new"><td class="ac-label">59-1511</td><td>KC-135R Stratotanker</td><td class="ac-role">Aerial refueling</td><td>over Germany, ~99 mi from Ramstein AB, Germany</td><td class="ac-alt">22,000 ft</td></tr><tr class="new"><td class="ac-label">COL72</td><td>PC21</td><td class="ac-role">Military</td><td>over Germany, ~113 mi from Aviano AB, Italy</td><td class="ac-alt">20,025 ft</td></tr><tr class="new"><td class="ac-label">COL61</td><td>PC21</td><td class="ac-role">Military</td><td>over Germany</td><td class="ac-alt">19,525 ft</td></tr><tr class="new"><td class="ac-label">MILAN7G</td><td>DH8D</td><td class="ac-role">Military</td><td>over the North Atlantic</td><td class="ac-alt">18,525 ft</td></tr><tr class="new"><td class="ac-label">PEG41</td><td>PC21</td><td class="ac-role">Military</td><td>over Germany</td><td class="ac-alt">18,150 ft</td></tr><tr class="new"><td class="ac-label">PEG42</td><td>PC21</td><td class="ac-role">Military</td><td>over Germany</td><td class="ac-alt">17,650 ft</td></tr><tr class="new"><td class="ac-label">NAF70</td><td>C-130 Hercules</td><td class="ac-role">Tactical airlift</td><td>over Germany</td><td class="ac-alt">17,050 ft</td></tr><tr class=""><td class="ac-label">BOBCT51</td><td>Q9</td><td class="ac-role">Military</td><td>~24 mi from RAF Akrotiri, Cyprus</td><td class="ac-alt">16,000 ft</td></tr><tr class=""><td class="ac-label">CNV6608</td><td>B737</td><td class="ac-role">Military</td><td>over Italy</td><td class="ac-alt">13,700 ft</td></tr><tr class="new"><td class="ac-label">AME4549</td><td>A310</td><td class="ac-role">Military</td><td>over the Western Mediterranean</td><td class="ac-alt">11,800 ft</td></tr><tr class=""><td class="ac-label">PLF110</td><td>B738</td><td class="ac-role">Military</td><td>~574 mi from Aviano AB, Italy</td><td class="ac-alt">10,875 ft</td></tr></tbody></table></div>
</div>
<div class="sec"><span>Indicators &amp; Warnings</span></div>
<div class="card"><div class="card-body" style="font-size:14px;color:var(--text2);line-height:1.7">KEY I&W INDICATORS (Unchanged from Baseline): (1) NO tanker surge above 7-day average; (2) NO Iranian military aircraft detected in ADS-B picture (aircraft operate without transponders—picture is incomplete, but absence of signature is not anomalous); (3) NO US bomber fleet repositioning to forward bases (B-52H, B-1B would signal strike package assembly); (4) NO ISR orbit change (RQ-4 Global Hawk patterns not available in current ADS-B data, but no anomaly reported); (5) NO SEAD/DEAD package assembly (no EA-18G Growler, F-16CJ Viper, or AGM-88 HARM indicators). CONCLUSION: Military posture remains elevated but defensive/deterrent. Escalation would require trigger event (major Iranian escalation, e.g., ballistic missile attack, large-scale drone swarm, tanker seizure of US vessel). Next I&W milestone: watch for (A) Iranian fighter sorties from Bushehr/Isfahan bases; (B) Houthi missile/drone surge in Red Sea; (C) US bomber or additional carrier strike group movement to Central Command AOR.</div></div>
<div class="sec"><span>CENTCOM Releases</span></div>
<div class="card"><div class="card-body"></div></div>
<div class="feeds"><span class="feed"><span class="fd ok"></span>airplanes.live</span><span class="feed"><span class="fd ok"></span>Polymarket</span><span class="feed"><span class="fd ok"></span>Metaculus</span><span class="feed"><span class="fd ok"></span>Kalshi</span><span class="feed"><span class="fd err"></span>USNI Naval</span><span class="feed"><span class="fd err"></span>CENTCOM</span></div>
<div class="foot">Iran Watch &middot; Data: airplanes.live &middot; Polymarket &middot; Kalshi &middot; Metaculus &middot; USNI News &middot; CENTCOM<br>Analysis: Claude Haiku 4.5 &middot; Updated every 6 hours via GitHub Actions</div>
</div>

<script>
(function(){
const aircraft=[{"callsign": "HAF352E", "hex": "4682a6", "registration": "678", "lat": 25.52, "lon": 53.81, "alt_ft": 43000, "origin": "", "status": "new", "location_desc": "over the Persian Gulf", "airframe": "GLF5", "role": "Military"}, {"callsign": "BRK50", "hex": "477ff1", "registration": "01", "lat": 48.14, "lon": 12.22, "alt_ft": 32000, "origin": "", "status": "returning", "location_desc": "over Germany", "airframe": "C-17A Globemaster III", "role": "Strategic airlift"}, {"callsign": "RCH657", "hex": "ae146e", "registration": "07-7176", "lat": 47.59, "lon": 19.08, "alt_ft": 31000, "origin": "United States", "status": "returning", "location_desc": "~356 mi from Aviano AB, Italy", "airframe": "C-17A Globemaster III", "role": "Strategic airlift"}, {"callsign": "RCH1801", "hex": "ae055e", "registration": "85-0001", "lat": 47.12, "lon": 19.82, "alt_ft": 31000, "origin": "United States", "status": "new", "location_desc": "~384 mi from Aviano AB, Italy", "airframe": "C-5M Super Galaxy", "role": "Heavy strategic airlift"}, {"callsign": "", "hex": "ae0659", "registration": "59-1464", "lat": 51.89, "lon": 5.39, "alt_ft": 30000, "origin": "United States", "status": "returning", "location_desc": "~195 mi from Ramstein AB, Germany", "airframe": "KC-135R Stratotanker", "role": "Aerial refueling"}, {"callsign": "VM207", "hex": "af4a7b", "registration": "168207", "lat": 51.39, "lon": 1.83, "alt_ft": 29000, "origin": "United States", "status": "new", "location_desc": "over the North Atlantic", "airframe": "MC-12W / King Air", "role": "ISR / light transport"}, {"callsign": "", "hex": "ae0424", "registration": "60-0333", "lat": 49.71, "lon": 1.87, "alt_ft": 28000, "origin": "United States", "status": "returning", "location_desc": "over the North Atlantic", "airframe": "KC-135R Stratotanker", "role": "Aerial refueling"}, {"callsign": "FMY8046", "hex": "3aabfa", "registration": "156", "lat": 48.94, "lon": 12.05, "alt_ft": 26225, "origin": "France", "status": "returning", "location_desc": "over Germany", "airframe": "TBM7", "role": "Military"}, {"callsign": "CTM3914", "hex": "3b77eb", "registration": "147", "lat": 45.87, "lon": -0.09, "alt_ft": 26000, "origin": "France", "status": "new", "location_desc": "over France", "airframe": "TBM7", "role": "Military"}, {"callsign": "AME3104", "hex": "3532c3", "registration": "T.23-05", "lat": 36.8, "lon": 18.27, "alt_ft": 25975, "origin": "Spain", "status": "new", "location_desc": "over Italy", "airframe": "A400M Atlas", "role": "Tactical/strategic airlift"}, {"callsign": "RRR7209", "hex": "43c39d", "registration": "ZZ666", "lat": 53.01, "lon": 2.41, "alt_ft": 25175, "origin": "United Kingdom", "status": "returning", "location_desc": "over the North Atlantic", "airframe": "Voyager KC3 / A330 MRTT", "role": "RAF aerial refueling"}, {"callsign": "CNV6510", "hex": "ae03e2", "registration": "164995", "lat": 47.2, "lon": 2.24, "alt_ft": 25050, "origin": "United States", "status": "returning", "location_desc": "over the North Atlantic", "airframe": "C-130 Hercules", "role": "Tactical airlift"}, {"callsign": "HK4862", "hex": "0ac152", "registration": "FAC1187", "lat": 47.7, "lon": 2.38, "alt_ft": 25000, "origin": "", "status": "new", "location_desc": "over the North Atlantic", "airframe": "AT45", "role": "Military"}, {"callsign": "MILAN7C", "hex": "3b7b63", "registration": "F-ZBMH", "lat": 46.66, "lon": 4.85, "alt_ft": 24000, "origin": "France", "status": "new", "location_desc": "over the North Atlantic", "airframe": "DH8D", "role": "Military"}, {"callsign": "", "hex": "ae0502", "registration": "59-1511", "lat": 49.72, "lon": 9.77, "alt_ft": 22000, "origin": "United States", "status": "new", "location_desc": "over Germany, ~99 mi from Ramstein AB, Germany", "airframe": "KC-135R Stratotanker", "role": "Aerial refueling"}, {"callsign": "COL72", "hex": "4b7fab", "registration": "A-104", "lat": 46.64, "lon": 9.71, "alt_ft": 20025, "origin": "", "status": "new", "location_desc": "over Germany, ~113 mi from Aviano AB, Italy", "airframe": "PC21", "role": "Military"}, {"callsign": "COL61", "hex": "4b7f5b", "registration": "A-107", "lat": 46.58, "lon": 9.21, "alt_ft": 19525, "origin": "", "status": "new", "location_desc": "over Germany", "airframe": "PC21", "role": "Military"}, {"callsign": "MILAN7G", "hex": "3b7b3e", "registration": "F-ZBMJ", "lat": 47.62, "lon": 0.75, "alt_ft": 18525, "origin": "France", "status": "new", "location_desc": "over the North Atlantic", "airframe": "DH8D", "role": "Military"}, {"callsign": "PEG41", "hex": "4b7fac", "registration": "A-103", "lat": 46.92, "lon": 9.39, "alt_ft": 18150, "origin": "", "status": "new", "location_desc": "over Germany", "airframe": "PC21", "role": "Military"}, {"callsign": "PEG42", "hex": "4b7fad", "registration": "A-102", "lat": 46.93, "lon": 9.39, "alt_ft": 17650, "origin": "", "status": "new", "location_desc": "over Germany", "airframe": "PC21", "role": "Military"}, {"callsign": "NAF70", "hex": "480c03", "registration": "G-273", "lat": 51.54, "lon": 6.3, "alt_ft": 17050, "origin": "", "status": "new", "location_desc": "over Germany", "airframe": "C-130 Hercules", "role": "Tactical airlift"}, {"callsign": "BOBCT51", "hex": "43c972", "registration": "PR010", "lat": 34.33, "lon": 33.26, "alt_ft": 16000, "origin": "United Kingdom", "status": "returning", "location_desc": "~24 mi from RAF Akrotiri, Cyprus", "airframe": "Q9", "role": "Military"}, {"callsign": "CNV6608", "hex": "ae0976", "registration": "165833", "lat": 40.9, "lon": 15.2, "alt_ft": 13700, "origin": "United States", "status": "returning", "location_desc": "over Italy", "airframe": "B737", "role": "Military"}, {"callsign": "AME4549", "hex": "354555", "registration": "T.22-1", "lat": 40.69, "lon": -2.42, "alt_ft": 11800, "origin": "Spain", "status": "new", "location_desc": "over the Western Mediterranean", "airframe": "A310", "role": "Military"}, {"callsign": "PLF110", "hex": "48d980", "registration": "0110", "lat": 51.88, "lon": 20.9, "alt_ft": 10875, "origin": "", "status": "returning", "location_desc": "~574 mi from Aviano AB, Italy", "airframe": "B738", "role": "Military"}, {"callsign": "FMY8055", "hex": "3aabf8", "registration": "160", "lat": 48.15, "lon": 1.15, "alt_ft": 9000, "origin": "France", "status": "new", "location_desc": "over the North Atlantic", "airframe": "TBM7", "role": "Military"}, {"callsign": "FR120", "hex": "896c21", "registration": "951", "lat": 23.78, "lon": 55.28, "alt_ft": 8875, "origin": "", "status": "new", "location_desc": "over Saudi Arabia, ~56 mi from Al Dhafra AB, UAE", "airframe": "PC21", "role": "Military"}, {"callsign": "CTM3915", "hex": "3b77f0", "registration": "117", "lat": 44.72, "lon": -0.64, "alt_ft": 7750, "origin": "France", "status": "new", "location_desc": "over the Western Mediterranean", "airframe": "TBM7", "role": "Military"}, {"callsign": "", "hex": "4b7fa7", "registration": "T-312", "lat": 47.02, "lon": 8.85, "alt_ft": 6600, "origin": "", "status": "new", "location_desc": "over Germany", "airframe": "AS32", "role": "Military"}, {"callsign": "DRAGO741", "hex": "3b7b37", "registration": "F-ZBQP", "lat": 45.77, "lon": 6.06, "alt_ft": 6050, "origin": "France", "status": "new", "location_desc": "over France", "airframe": "EC45", "role": "Military"}, {"callsign": "FR146", "hex": "896c16", "registration": "940", "lat": 24.37, "lon": 55.62, "alt_ft": 5875, "origin": "", "status": "new", "location_desc": "over the Persian Gulf, ~68 mi from Al Dhafra AB, UAE", "airframe": "PC21", "role": "Military"}, {"callsign": "", "hex": "ae04fb", "registration": "57-2605", "lat": 52.37, "lon": 0.22, "alt_ft": 5000, "origin": "United States", "status": "new", "location_desc": "~11 mi from RAF Lakenheath, UK", "airframe": "KC-135R Stratotanker", "role": "Aerial refueling"}, {"callsign": "EDGE15", "hex": "3f64f6", "registration": "54+21", "lat": 48.78, "lon": 11.81, "alt_ft": 3250, "origin": "Germany", "status": "new", "location_desc": "over Germany", "airframe": "A400M Atlas", "role": "Tactical/strategic airlift"}, {"callsign": "SPADA02", "hex": "33fdb3", "registration": "MM62281", "lat": 36.91, "lon": 14.49, "alt_ft": 3200, "origin": "Italy", "status": "new", "location_desc": "over the Western Mediterranean, ~41 mi from NAS Sigonella, Sicily", "airframe": "AT76", "role": "Military"}, {"callsign": "DUKE49", "hex": "ae0a54", "registration": "84-00170", "lat": 49.42, "lon": 7.45, "alt_ft": 2725, "origin": "United States", "status": "new", "location_desc": "near Ramstein AB, Germany", "airframe": "C-17A Globemaster III", "role": "Strategic airlift"}, {"callsign": "00000000", "hex": "468313", "registration": "2787", "lat": 37.86, "lon": 23.67, "alt_ft": 2225, "origin": "", "status": "new", "location_desc": "over Greece", "airframe": "AS3B", "role": "Military"}, {"callsign": "DADDY11", "hex": "ae68b1", "registration": "10-3068", "lat": 52.36, "lon": 0.51, "alt_ft": 1500, "origin": "United States", "status": "new", "location_desc": "near RAF Lakenheath, UK", "airframe": "D328", "role": "Military"}, {"callsign": "RRR4235", "hex": "43c5da", "registration": "ZM400", "lat": 51.74, "lon": -1.64, "alt_ft": 1350, "origin": "United Kingdom", "status": "new", "location_desc": "over the North Atlantic", "airframe": "A400M Atlas", "role": "Tactical/strategic airlift"}, {"callsign": "FR144", "hex": "896c10", "registration": "934", "lat": 24.27, "lon": 55.61, "alt_ft": 1275, "origin": "", "status": "new", "location_desc": "over the Persian Gulf, ~67 mi from Al Dhafra AB, UAE", "airframe": "PC21", "role": "Military"}, {"callsign": "TRITN01", "hex": "44f6a0", "registration": "RN-01", "lat": 51.27, "lon": 3.21, "alt_ft": 1175, "origin": "", "status": "new", "location_desc": "over the North Atlantic", "airframe": "NH90", "role": "Military"}, {"callsign": "JOLLY11", "hex": "ae6c48", "registration": "17-14487", "lat": 45.69, "lon": 12.91, "alt_ft": 1125, "origin": "United States", "status": "new", "location_desc": "over Italy, ~54 mi from Aviano AB, Italy", "airframe": "UH-60 Black Hawk", "role": "Utility helicopter"}, {"callsign": "GASTN33", "hex": "4984a6", "registration": "0849", "lat": 50.12, "lon": 14.55, "alt_ft": 1125, "origin": "", "status": "new", "location_desc": "over Germany", "airframe": "MI8", "role": "Military"}, {"callsign": "DRAGO67", "hex": "3b7b94", "registration": "F-ZBPW", "lat": 48.76, "lon": 7.96, "alt_ft": 775, "origin": "France", "status": "new", "location_desc": "over Germany, ~50 mi from Ramstein AB, Germany", "airframe": "EC45", "role": "Military"}, {"callsign": "GCI2187", "hex": "32007e", "registration": "MM82187", "lat": 36.97, "lon": 15.4, "alt_ft": 750, "origin": "Italy", "status": "new", "location_desc": "over Italy, ~40 mi from NAS Sigonella, Sicily", "airframe": "A139", "role": "Military"}, {"callsign": "7777XSAN", "hex": "354657", "registration": "TWR", "lat": 41.77, "lon": 2.44, "alt_ft": -1000, "origin": "Spain", "status": "new", "location_desc": "over the Western Mediterranean", "airframe": "TWR", "role": "Military"}, {"callsign": "EDGE01", "hex": "3f866a", "registration": "", "lat": 49.26, "lon": 12.36, "alt_ft": 16000, "origin": "Germany", "status": "new", "location_desc": "over Germany", "airframe": "Unknown type", "role": "Military"}, {"callsign": "AZOR09", "hex": "35360a", "registration": "", "lat": 39.91, "lon": -4.14, "alt_ft": 11625, "origin": "Spain", "status": "new", "location_desc": "over the Western Mediterranean", "airframe": "Unknown type", "role": "Military"}, {"callsign": "LIMIT06", "hex": "3f8b75", "registration": "", "lat": 48.82, "lon": 11.93, "alt_ft": 2675, "origin": "Germany", "status": "new", "location_desc": "over Germany", "airframe": "Unknown type", "role": "Military"}];
const bases=[{name:"Al Udeid AB",lat:25.117,lon:51.315},{name:"Al Dhafra AB",lat:24.248,lon:54.547},{name:"Ali Al Salem",lat:29.346,lon:47.521},{name:"Incirlik AB",lat:37.002,lon:35.426},{name:"RAF Akrotiri",lat:34.590,lon:32.988},{name:"Camp Lemonnier",lat:11.547,lon:43.155}];
const borders={"Iran":[[25.1,61.6],[25.3,58.9],[26.3,56.3],[27.2,54.7],[26.5,53.4],[27.0,51.5],[29.8,50.3],[30.4,48.8],[31.0,47.7],[32.3,47.4],[33.7,46.0],[35.1,45.4],[36.6,45.0],[37.4,44.8],[38.3,44.4],[39.4,44.0],[39.8,47.8],[39.3,48.0],[38.9,48.9],[37.6,49.1],[37.3,50.1],[36.7,53.9],[37.4,55.4],[37.3,57.2],[35.8,60.5],[34.5,60.9],[33.7,60.5],[31.3,61.7],[27.2,63.3],[25.1,61.6]],"Iraq":[[29.1,47.4],[30.4,47.0],[31.0,47.7],[32.3,47.4],[33.7,46.0],[35.1,45.4],[36.6,45.0],[37.4,44.8],[37.1,42.4],[36.8,41.0],[33.4,40.9],[32.0,39.0],[30.0,40.0],[29.1,44.7],[29.1,47.4]],"Saudi Arabia":[[16.4,42.7],[17.5,43.4],[18.2,44.2],[19.0,45.0],[20.0,45.0],[21.5,49.0],[22.5,50.8],[24.0,52.0],[24.2,51.6],[25.8,50.8],[27.0,49.6],[28.5,48.4],[29.1,47.4],[29.1,44.7],[28.0,37.0],[25.0,37.5],[20.0,40.0],[17.8,42.0],[16.4,42.7]]};
const labels=[[32,"IRAN",53],[33,"IRAQ",43.5],[24,"S. ARABIA",45],[35,"TURKEY",35],[15,"YEMEN",47]];
const V={cLat:27,cLon:48,s:14};const wrap=document.getElementById('mapWrap');const canvas=document.getElementById('mapCanvas');const ctx=canvas.getContext('2d');const tip=document.getElementById('tooltip');
let W,H;function tX(n){return(n-V.cLon)*V.s+W/2}function tY(t){return(V.cLat-t)*V.s+H/2}
function getCat(cs){cs=(cs||'').toUpperCase();const c=[{p:['RCH','REACH','PACK','DUKE','MOOSE','FRED','CARGO','HERK'],t:'Airlift',c:'#ef4444'},{p:['ETHYL','JULIET','PEARL','STEEL','SHELL','TEAL','NKAC','PKSN','GOLD','BLUE','IRON'],t:'Tanker',c:'#3b82f6'},{p:['HOMER','TOPCT','JAKE','TITAN','FORTE','MAGIC','SNTRY','REDEYE','OLIVE','MAZDA'],t:'ISR/AWACS',c:'#f59e0b'},{p:['DOOM','DEATH','BATT','MYTEE','BONE','VIPER','EAGLE','RAZOR','HAWK','STRIKE','WRATH','BOLT','ASCOT','TABOR'],t:'Strike',c:'#22c55e'}];for(const g of c)for(const px of g.p)if(cs.startsWith(px))return g;return{t:'Military',c:'#94a3b8'}}
function draw(){ctx.clearRect(0,0,W,H);ctx.fillStyle='#080a0f';ctx.fillRect(0,0,W,H);
ctx.strokeStyle='rgba(26,32,53,.4)';ctx.lineWidth=.5;for(let lat=-10;lat<=60;lat+=5){ctx.beginPath();ctx.moveTo(tX(10),tY(lat));ctx.lineTo(tX(85),tY(lat));ctx.stroke()}for(let lon=10;lon<=85;lon+=5){ctx.beginPath();ctx.moveTo(tX(lon),tY(-10));ctx.lineTo(tX(lon),tY(60));ctx.stroke()}
ctx.fillStyle='rgba(17,21,32,.7)';ctx.lineWidth=1;for(const[name,pts]of Object.entries(borders)){ctx.strokeStyle=name==='Iran'?'rgba(239,68,68,.25)':'#1a2035';ctx.lineWidth=name==='Iran'?2:1;ctx.beginPath();pts.forEach((p,i)=>{const x=tX(p[1]),y=tY(p[0]);i===0?ctx.moveTo(x,y):ctx.lineTo(x,y)});ctx.closePath();ctx.fill();ctx.stroke()}
ctx.font='9px JetBrains Mono,monospace';ctx.fillStyle='#2a3450';ctx.textAlign='center';labels.forEach(([lat,t,lon])=>ctx.fillText(t,tX(lon),tY(lat)));
ctx.setLineDash([3,3]);ctx.strokeStyle='#475569';ctx.lineWidth=1;bases.forEach(b=>{const x=tX(b.lon),y=tY(b.lat);ctx.beginPath();ctx.arc(x,y,4,0,Math.PI*2);ctx.stroke();ctx.font='8px JetBrains Mono,monospace';ctx.fillStyle='#475569';ctx.textAlign='left';ctx.fillText(b.name,x+7,y+3)});ctx.setLineDash([]);
const ret=aircraft.filter(a=>a.status==='returning');const nw=aircraft.filter(a=>a.status!=='returning');
ret.forEach(a=>{const x=tX(a.lon),y=tY(a.lat);ctx.beginPath();ctx.arc(x,y,3,0,Math.PI*2);ctx.fillStyle='#2a3450';ctx.fill()});
nw.forEach(a=>{const x=tX(a.lon),y=tY(a.lat);const cat=getCat(a.callsign);const g=ctx.createRadialGradient(x,y,0,x,y,18);g.addColorStop(0,cat.c+'30');g.addColorStop(1,cat.c+'00');ctx.fillStyle=g;ctx.beginPath();ctx.arc(x,y,18,0,Math.PI*2);ctx.fill();ctx.beginPath();ctx.arc(x,y,4,0,Math.PI*2);ctx.fillStyle=cat.c+'90';ctx.fill();ctx.strokeStyle=cat.c;ctx.lineWidth=1.5;ctx.stroke();ctx.font='bold 9px JetBrains Mono,monospace';ctx.fillStyle=cat.c;ctx.textAlign='left';const lbl=a.callsign||a.registration||a.hex||'';ctx.fillText(lbl,x+9,y-3);ctx.font='8px JetBrains Mono,monospace';ctx.fillStyle='#94a3b8';ctx.fillText(a.airframe||cat.t,x+9,y+8)})}
function resize(){W=wrap.clientWidth;H=wrap.clientHeight;canvas.width=W*devicePixelRatio;canvas.height=H*devicePixelRatio;canvas.style.width=W+'px';canvas.style.height=H+'px';ctx.setTransform(devicePixelRatio,0,0,devicePixelRatio,0,0);draw()}resize();window.addEventListener('resize',resize);
let hov=null;wrap.addEventListener('mousemove',e=>{const r=canvas.getBoundingClientRect(),mx=e.clientX-r.left,my=e.clientY-r.top;let found=null;for(const a of aircraft){if(Math.hypot(mx-tX(a.lon),my-tY(a.lat))<16){found=a;break}}
if(found&&found!==hov){hov=found;let h='<div style="font-weight:600;color:var(--cyan);font-size:12px">'+(found.callsign||found.registration||found.hex)+'</div>';if(found.airframe)h+='<div style="color:var(--text);margin-top:3px">'+found.airframe+'</div>';if(found.role)h+='<div style="color:var(--text2);font-size:10px">'+found.role+'</div>';if(found.location_desc)h+='<div style="color:var(--text3);margin-top:3px;font-size:10px">'+found.location_desc+'</div>';if(found.alt_ft)h+='<div style="color:var(--text4);font-size:10px">'+found.alt_ft.toLocaleString()+' ft'+(found.origin?' · '+found.origin:'')+'</div>';tip.innerHTML=h;tip.style.left=Math.min(mx+16,W-240)+'px';tip.style.top=(my-10)+'px';tip.style.opacity='1'}else if(!found){hov=null;tip.style.opacity='0'}});
wrap.addEventListener('mouseleave',()=>{hov=null;tip.style.opacity='0'})})();
</script></body></html>